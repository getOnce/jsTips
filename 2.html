<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>2、js实现extend</title>
</head>
<body>
	<div class="pcs-article-content_ptkaiapt4bxy_baiduscarticle" id="detailArticleContent_ptkaiapt4bxy_baiduscarticle"><pre class="default prettyprint prettyprinted"><span style="margin: 0px; color: #8a4a0b;">function</span><span style="margin: 0px; color: #000000;"> extend</span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #000000;">obj</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp;</span><span style="margin: 0px; color: #2b91af;">Array</span><span style="margin: 0px; color: #145680;">.</span><span style="margin: 0px; color: #000000;">prototype</span><span style="margin: 0px; color: #145680;">.</span><span style="margin: 0px; color: #000000;">slice</span><span style="margin: 0px; color: #145680;">.</span><span style="margin: 0px; color: #000000;">call</span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #000000;">arguments</span><span style="margin: 0px; color: #145680;">,</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #953838;">1</span><span style="margin: 0px; color: #145680;">).</span><span style="margin: 0px; color: #000000;">forEach</span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #8a4a0b;">function</span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #000000;">source</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #8a4a0b;">if</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #000000;">source</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #8a4a0b;">for</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #8a4a0b;">var</span><span style="margin: 0px; color: #000000;"> prop </span><span style="margin: 0px; color: #8a4a0b;">in</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #8a4a0b;">if</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #000000;">source</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">].</span><span style="margin: 0px; color: #000000;">constructor </span><span style="margin: 0px; color: #145680;">===</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #2b91af;">Object</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #8a4a0b;">if</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">(!</span><span style="margin: 0px; color: #000000;">obj</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">||</span><span style="margin: 0px; color: #000000;"> obj</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">].</span><span style="margin: 0px; color: #000000;">constructor </span><span style="margin: 0px; color: #145680;">===</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #2b91af;">Object</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;obj</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">=</span><span style="margin: 0px; color: #000000;"> obj</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">||</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{};</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;extend</span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #000000;">obj</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">],</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]);</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #8a4a0b;">else</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;obj</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">=</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">];</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #8a4a0b;">else</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;obj</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">=</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">];</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">});</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp;</span><span style="margin: 0px; color: #8a4a0b;">return</span><span style="margin: 0px; color: #000000;"> obj</span><span style="margin: 0px; color: #145680;">;</span><span style="margin: 0px; color: #000000;"></span><span style="margin: 0px; color: #145680;">}</span></pre><p><br></p><pre class="default prettyprint prettyprinted"><span style="margin: 0px; color: #8a4a0b;">function</span><span style="margin: 0px; color: #000000;"> extend </span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #000000;">target</span><span style="margin: 0px; color: #145680;">,</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp;target </span><span style="margin: 0px; color: #145680;">=</span><span style="margin: 0px; color: #000000;"> target </span><span style="margin: 0px; color: #145680;">||</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{};</span><span style="margin: 0px; color: #000000;">
 &nbsp;</span><span style="margin: 0px; color: #8a4a0b;">for</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #8a4a0b;">var</span><span style="margin: 0px; color: #000000;"> prop </span><span style="margin: 0px; color: #8a4a0b;">in</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp;</span><span style="margin: 0px; color: #8a4a0b;">if</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #8a4a0b;">typeof</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">===</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #800000;">'object'</span><span style="margin: 0px; color: #145680;">)</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp;target</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">=</span><span style="margin: 0px; color: #000000;"> extend</span><span style="margin: 0px; color: #145680;">(</span><span style="margin: 0px; color: #000000;">target</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">],</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]);</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #8a4a0b;">else</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">{</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp; &nbsp;target</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">]</span><span style="margin: 0px; color: #000000;"> </span><span style="margin: 0px; color: #145680;">=</span><span style="margin: 0px; color: #000000;"> source</span><span style="margin: 0px; color: #145680;">[</span><span style="margin: 0px; color: #000000;">prop</span><span style="margin: 0px; color: #145680;">];</span><span style="margin: 0px; color: #000000;">
 &nbsp; &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;">
 &nbsp;</span><span style="margin: 0px; color: #145680;">}</span><span style="margin: 0px; color: #000000;">
 &nbsp;</span><span style="margin: 0px; color: #8a4a0b;">return</span><span style="margin: 0px; color: #000000;"> target</span><span style="margin: 0px; color: #145680;">;</span><span style="margin: 0px; color: #000000;"></span><span style="margin: 0px; color: #145680;">}</span></pre></div>
</body>
</html>